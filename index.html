<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JEE 2026 Preparation Tracker</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        const firebaseConfig = {
            apiKey: "AIzaSyDTIqOQxIAoxXbrv-CTBjQncDyy_EcHjWA",
            authDomain: "jee-tracker-5e1e3.firebaseapp.com",
            projectId: "jee-tracker-5e1e3",
            storageBucket: "jee-tracker-5e1e3.firebasestorage.app",
            messagingSenderId: "602366987142",
            appId: "1:602366987142:web:4b169f8da0f876e88f3a07"
        };
        
        window.firebaseApp = initializeApp(firebaseConfig);
        window.auth = getAuth(window.firebaseApp);
        window.db = getFirestore(window.firebaseApp);
    </script>
</head>
<body>
    <div class="particles-bg"></div>
    
    <!-- Firebase Connection Status -->
    <div class="firebase-status" id="firebaseStatus">
        <div class="status-indicator" id="statusIndicator"></div>
        <span id="statusText">Connecting...</span>
    </div>
    
    <!-- Authentication Modal -->
    <div class="modal hidden" id="authModal">
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h3>Welcome to JEE 2026 Tracker</h3>
            </div>
            <div class="modal-body">
                <div class="auth-container">
                    <p class="auth-description">Sign in to sync your progress across devices and access enhanced features.</p>
                    <button class="btn btn--primary" id="googleSignInBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" style="margin-right: 8px;">
                            <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Sign in with Google
                    </button>
                    <button class="btn btn--secondary" id="continueOfflineBtn">Continue Offline</button>
                </div>
            </div>
        </div>
    </div>
    
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="nav-logo">JEE 2026 Tracker</h1>
            <div class="nav-links">
                <a href="#dashboard" class="nav-link active">Dashboard</a>
                <a href="#analytics" class="nav-link">Analytics</a>
                <a href="#calendar" class="nav-link">Calendar</a>
                <a href="#todos" class="nav-link">Todo</a>
            </div>
            <div class="nav-controls">
                <div class="user-info" id="userInfo" style="display: none;">
                    <img id="userAvatar" class="user-avatar" alt="User Avatar">
                    <span id="userName">User</span>
                    <button class="btn btn--secondary btn--sm" id="signOutBtn">Sign Out</button>
                </div>
                <button class="theme-toggle" id="themeToggle">🌙</button>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <div class="container">
                <!-- Motivational Quote -->
                <div class="quote-card glass-card">
                    <p class="quote-text" id="motivationalQuote">Loading quote...</p>
                    <span class="quote-author">— Stay Motivated</span>
                </div>

                <!-- Countdown Timers -->
                <div class="countdown-grid">
                    <div class="countdown-card glass-card main1">
                        <div class="countdown-header">
                            <h3>JEE Main 1</h3>
                            <span class="countdown-date">January 20, 2026</span>
                        </div>
                        <div class="countdown-timer" id="countdown-main1">
                            <div class="time-unit">
                                <span class="time-value" id="days-main1">000</span>
                                <span class="time-label">Days</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="hours-main1">00</span>
                                <span class="time-label">Hours</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="minutes-main1">00</span>
                                <span class="time-label">Minutes</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="seconds-main1">00</span>
                                <span class="time-label">Seconds</span>
                            </div>
                        </div>
                    </div>

                    <div class="countdown-card glass-card main2">
                        <div class="countdown-header">
                            <h3>JEE Main 2</h3>
                            <span class="countdown-date">April 1, 2026</span>
                        </div>
                        <div class="countdown-timer" id="countdown-main2">
                            <div class="time-unit">
                                <span class="time-value" id="days-main2">000</span>
                                <span class="time-label">Days</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="hours-main2">00</span>
                                <span class="time-label">Hours</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="minutes-main2">00</span>
                                <span class="time-label">Minutes</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="seconds-main2">00</span>
                                <span class="time-label">Seconds</span>
                            </div>
                        </div>
                    </div>

                    <div class="countdown-card glass-card advanced">
                        <div class="countdown-header">
                            <h3>JEE Advanced</h3>
                            <span class="countdown-date">May 18, 2026</span>
                        </div>
                        <div class="countdown-timer" id="countdown-advanced">
                            <div class="time-unit">
                                <span class="time-value" id="days-advanced">000</span>
                                <span class="time-label">Days</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="hours-advanced">00</span>
                                <span class="time-label">Hours</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="minutes-advanced">00</span>
                                <span class="time-label">Minutes</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="seconds-advanced">00</span>
                                <span class="time-label">Seconds</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Daily Tracker -->
                <div class="tracker-grid">
                    <div class="tracker-card glass-card">
                        <h3>Daily Question Logger</h3>
                        <div class="input-group">
                            <label for="questionDate">Select Date</label>
                            <input type="date" id="questionDate" class="form-control">
                        </div>
                        <div class="input-group">
                            <label for="questionsCount">Questions Solved</label>
                            <input type="number" id="questionsCount" class="form-control" min="0" placeholder="Enter count">
                        </div>
                        <div class="subject-inputs">
                            <div class="input-group">
                                <label for="physicsCount">Physics</label>
                                <input type="number" id="physicsCount" class="form-control" min="0" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label for="chemistryCount">Chemistry</label>
                                <input type="number" id="chemistryCount" class="form-control" min="0" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label for="mathCount">Mathematics</label>
                                <input type="number" id="mathCount" class="form-control" min="0" placeholder="0">
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="dailyTarget">Daily Target</label>
                            <input type="number" id="dailyTarget" class="form-control" min="1" value="50">
                        </div>
                        <button class="btn btn--primary" id="saveProgress">Save Progress</button>
                    </div>

                    <div class="progress-card glass-card">
                        <h3>Today's Progress</h3>
                        <div class="progress-stats">
                            <div class="stat-item">
                                <span class="stat-label">Questions Solved</span>
                                <span class="stat-value" id="todayQuestions">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Daily Target</span>
                                <span class="stat-value" id="todayTarget">50</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Progress</span>
                                <span class="stat-value" id="todayProgress">0%</span>
                            </div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="circular-progress" id="circularProgress">
                            <svg class="circular-chart">
                                <circle class="circle-bg" cx="50" cy="50" r="45"></circle>
                                <circle class="circle-progress" cx="50" cy="50" r="45" id="progressCircle"></circle>
                            </svg>
                            <div class="progress-text">
                                <span id="progressPercentage">0%</span>
                                <span>Complete</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card glass-card">
                        <div class="stat-icon">🔥</div>
                        <div class="stat-info">
                            <span class="stat-number" id="currentStreak">0</span>
                            <span class="stat-text">Day Streak</span>
                        </div>
                    </div>
                    <div class="stat-card glass-card">
                        <div class="stat-icon">📊</div>
                        <div class="stat-info">
                            <span class="stat-number" id="totalQuestions">0</span>
                            <span class="stat-text">Total Questions</span>
                        </div>
                    </div>
                    <div class="stat-card glass-card">
                        <div class="stat-icon">📈</div>
                        <div class="stat-info">
                            <span class="stat-number" id="avgQuestions">0</span>
                            <span class="stat-text">Daily Average</span>
                        </div>
                    </div>
                    <div class="stat-card glass-card">
                        <div class="stat-icon">🏆</div>
                        <div class="stat-info">
                            <span class="stat-number" id="bestDay">0</span>
                            <span class="stat-text">Best Day</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="section">
            <div class="container">
                <h2>Enhanced Analytics Dashboard</h2>
                
                <!-- Data Export Controls -->
                <div class="export-controls glass-card">
                    <h3>Data Management</h3>
                    <div class="export-buttons">
                        <button class="btn btn--secondary" id="exportJSON">Export JSON</button>
                        <button class="btn btn--secondary" id="exportCSV">Export CSV</button>
                        <button class="btn btn--secondary" id="backupData">Backup Data</button>
                        <input type="file" id="importFile" accept=".json" style="display: none;">
                        <button class="btn btn--secondary" id="importData">Import Data</button>
                    </div>
                </div>
                
                <div class="charts-grid">
                    <div class="chart-card glass-card">
                        <h3>Daily Progress Trend</h3>
                        <div class="chart-container" style="position: relative; height: 400px;">
                            <canvas id="progressChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card glass-card">
                        <h3>Subject-wise Distribution</h3>
                        <div class="chart-container" style="position: relative; height: 400px;">
                            <canvas id="subjectChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card glass-card">
                        <h3>Weekly Comparison Analysis</h3>
                        <div class="chart-container" style="position: relative; height: 400px;">
                            <canvas id="weeklyChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card glass-card">
                        <h3>Target vs Actual Performance</h3>
                        <div class="chart-container" style="position: relative; height: 400px;">
                            <canvas id="targetChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card glass-card">
                        <h3>Subject Performance Radar</h3>
                        <div class="chart-container" style="position: relative; height: 400px;">
                            <canvas id="radarChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card glass-card">
                        <h3>Monthly Progress Heatmap</h3>
                        <div class="chart-container" style="position: relative; height: 400px;">
                            <canvas id="heatmapChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card glass-card">
                        <h3>Goal Achievement Tracking</h3>
                        <div class="chart-container" style="position: relative; height: 400px;">
                            <canvas id="goalChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card glass-card">
                        <h3>Performance Prediction Trends</h3>
                        <div class="chart-container" style="position: relative; height: 400px;">
                            <canvas id="predictionChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Calendar Section -->
        <section id="calendar" class="section">
            <div class="container">
                <h2>Study Calendar</h2>
                <div class="calendar-container glass-card">
                    <div class="calendar-header">
                        <button class="btn btn--secondary" id="prevMonth">‹</button>
                        <h3 id="currentMonth">August 2025</h3>
                        <button class="btn btn--secondary" id="nextMonth">›</button>
                    </div>
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- Calendar will be generated dynamically -->
                    </div>
                    <div class="calendar-legend">
                        <div class="legend-item">
                            <div class="legend-color no-data"></div>
                            <span>No data</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color low"></div>
                            <span>1-20 questions</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color medium"></div>
                            <span>21-40 questions</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color high"></div>
                            <span>41-60 questions</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color very-high"></div>
                            <span>60+ questions</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Todo Section -->
        <section id="todos" class="section">
            <div class="container">
                <h2>Todo Management</h2>
                <div class="todo-grid">
                    <div class="todo-form glass-card">
                        <h3>Add New Task</h3>
                        <div class="input-group">
                            <label for="todoTask">Task Description</label>
                            <input type="text" id="todoTask" class="form-control" placeholder="Enter your task">
                        </div>
                        <div class="input-group">
                            <label for="todoSubject">Subject</label>
                            <select id="todoSubject" class="form-control">
                                <option value="General">General</option>
                                <option value="Physics">Physics</option>
                                <option value="Chemistry">Chemistry</option>
                                <option value="Mathematics">Mathematics</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="todoPriority">Priority</label>
                            <select id="todoPriority" class="form-control">
                                <option value="Low">Low</option>
                                <option value="Medium">Medium</option>
                                <option value="High">High</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="todoDueDate">Due Date</label>
                            <input type="date" id="todoDueDate" class="form-control">
                        </div>
                        <button class="btn btn--primary" id="addTodo">Add Task</button>
                    </div>
                    <div class="todo-list glass-card">
                        <h3>Your Tasks</h3>
                        <div class="todo-filters">
                            <button class="filter-btn active" data-filter="all">All</button>
                            <button class="filter-btn" data-filter="pending">Pending</button>
                            <button class="filter-btn" data-filter="completed">Completed</button>
                            <button class="filter-btn" data-filter="high">High Priority</button>
                        </div>
                        <div class="todos-container" id="todosContainer">
                            <!-- Todos will be generated dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal for Calendar Day Details -->
    <div class="modal hidden" id="dayModal">
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h3 id="modalDate">Date</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="modalQuestions">Questions Solved</label>
                    <input type="number" id="modalQuestions" class="form-control" min="0">
                </div>
                <div class="subject-inputs">
                    <div class="input-group">
                        <label for="modalPhysics">Physics</label>
                        <input type="number" id="modalPhysics" class="form-control" min="0">
                    </div>
                    <div class="input-group">
                        <label for="modalChemistry">Chemistry</label>
                        <input type="number" id="modalChemistry" class="form-control" min="0">
                    </div>
                    <div class="input-group">
                        <label for="modalMath">Mathematics</label>
                        <input type="number" id="modalMath" class="form-control" min="0">
                    </div>
                </div>
                <button class="btn btn--primary" id="saveModalProgress">Save</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
